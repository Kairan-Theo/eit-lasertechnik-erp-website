import{R as P,j as e,a as m,A as T}from"./index-BY_FY2h5.js";import{N as S}from"./navigation-BPz6xB7x.js";import{L as k}from"./language-context-CIojU0iR.js";import{P as I}from"./purchase-order-template-DY7ydY09.js";function E(){const[t,s]=m.useState("Quotation"),[u,c]=m.useState({refQuotation:"",orderDate:"",deliveryDate:"",paymentTerms:"",deliveryTo:""}),[x,r]=m.useState({name:"",company:"",email:"",companyEmail:"",phone:"",companyPhone:""}),[l,o]=m.useState({number:"",date:new Date().toISOString().slice(0,10),expires:"",currency:"THB",salesperson:"",status:"Draft",terms:"Please send payment within 30 days of receiving this quotation. There may be a 1.5% interest charge per month on late payments.",paymentAccountName:"EIT Lasertechnik",paymentBankNote:"Bank/Credit Card",Email:"hello@eitlasertechnik.com"}),[h,g]=m.useState([{product:"",description:"",note:"",qty:"1",price:"0",tax:"0"}]);m.useEffect(()=>{try{const n=localStorage.getItem("poInbound");if(n){const a=JSON.parse(n);a.poNumber&&(s("Purchase Order"),o(d=>({...d,number:a.poNumber}))),a.extraFields&&c(a.extraFields),a.customer&&r(d=>({...d,...a.customer})),Array.isArray(a.items)&&a.items.length&&g(a.items),localStorage.removeItem("poInbound")}}catch{}if(!l.number){const n=new Date,a=`Q-${n.getFullYear()}${String(n.getMonth()+1).padStart(2,"0")}${String(n.getDate()).padStart(2,"0")}-${String(n.getHours()).padStart(2,"0")}${String(n.getMinutes()).padStart(2,"0")}`;o(d=>({...d,number:a}))}},[]);const C=()=>g(n=>[...n,{product:"",description:"",note:"",qty:"1",price:"0",tax:"0"}]),$=n=>g(a=>a.filter((d,i)=>i!==n)),A=(n,a,d)=>g(i=>i.map((N,f)=>f===n?{...N,[a]:d}:N)),p=h.reduce((n,a)=>n+Number(a.qty||0)*Number(a.price||0),0),y=t==="Purchase Order"?p*.07:h.reduce((n,a)=>n+Number(a.qty||0)*Number(a.price||0)*(Number(a.tax||0)/100),0),j=p+y,w=()=>{const n={customer:x,details:l,items:h,totals:{subtotal:p,taxTotal:y,total:j},docType:t,extraFields:u};localStorage.setItem("quotationDraft",JSON.stringify(n));try{const a=`history:${x.email||x.phone||x.name||l.number}`,d=JSON.parse(localStorage.getItem(a)||"{}"),i=Array.isArray(d.quotations)?d.quotations:[];i.push({...n,savedAt:new Date().toISOString()}),localStorage.setItem(a,JSON.stringify({...d,customer:x,quotations:i}))}catch{}try{const a=localStorage.getItem("authToken");if(a){const d={number:l.number,customer:x,items:h,details:l,totals:{subtotal:p,taxTotal:y,total:j},doc_type:t};fetch(`${T}/api/quotations/`,{method:"POST",headers:{Authorization:`Token ${a}`,"Content-Type":"application/json"},body:JSON.stringify(d)}).catch(()=>{})}}catch{}};return{customer:x,setCustomer:r,details:l,setDetails:o,items:h,addItem:C,removeItem:$,updateItem:A,subtotal:p,taxTotal:y,total:j,save:w,confirm:()=>{w();const n=encodeURIComponent(x.email||x.phone||x.name||l.number);window.location.href=`/admin.html?view=customerHistory&filter=${n}`},print:()=>window.print(),exportPdf:async()=>{const n=document.getElementById("quotation-document");if(!n)return;const d={margin:10,filename:t==="Purchase Order"?`PO_${l.number}.pdf`:`Quotation_${l.number}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2,useCORS:!0},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"}},i=n.cloneNode(!0);i.style.position="fixed",i.style.left="-10000px",i.style.top="0",i.style.display="block",i.style.background="#ffffff",i.classList.remove("hidden"),i.removeAttribute("aria-hidden"),document.body.appendChild(i);try{const f=await new Promise(v=>{if(window.html2pdf)return v(window.html2pdf);const b=document.createElement("script");b.src="https://cdn.jsdelivr.net/npm/html2pdf.js@0.10.1/dist/html2pdf.bundle.min.js",b.onload=()=>v(window.html2pdf),b.onerror=()=>v(null),document.head.appendChild(b)});typeof f=="function"?await f().set(d).from(i).save():window.print()}finally{document.body.removeChild(i)}},docType:t,extraFields:u,setExtraFields:c}}function D({q:t,compact:s=!1}){if(t.docType==="Purchase Order")return e.jsx(I,{q:t,compact:s});const u=t.details.currency==="THB"?"฿":t.details.currency==="USD"?"$":t.details.currency==="EUR"?"€":t.details.currency==="GBP"?"£":t.details.currency;return e.jsxs("div",{className:`bg-white rounded-xl border shadow-sm ${s?"p-4 text-[12px]":"p-8"} print:shadow-none print:border-0`,children:[e.jsxs("div",{className:`flex items-start justify-between ${s?"mb-6":"mb-8"}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`${s?"w-10 h-10":"w-12 h-12"} bg-[#3D56A6] rounded flex items-center justify-center`,children:e.jsx("img",{src:"/eit-icon.png",alt:"EIT",className:`${s?"w-7 h-7":"w-8 h-8"}`})}),e.jsxs("div",{className:"leading-tight",children:[e.jsx("div",{className:`text-[#3D56A6] font-bold ${s?"text-base":"text-lg"}`,children:"EIT Lasertechnik"}),e.jsx("div",{className:`text-gray-500 ${s?"text-xs":"text-sm"}`,children:"Quotation"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:`${s?"text-xl":"text-2xl"} font-bold text-[#3D56A6] tracking-wide`,children:"QUOTATION"}),e.jsxs("div",{className:`mt-2 ${s?"text-xs":"text-sm"} text-gray-700`,children:["Quotation Number"," : ",e.jsx("span",{className:"font-semibold",children:t.details.number})]}),e.jsxs("div",{className:`${s?"text-xs":"text-sm"} text-gray-700`,children:["Quote Date : ",e.jsx("span",{className:"font-semibold",children:t.details.date})]}),e.jsxs("div",{className:`${s?"text-xs":"text-sm"} text-gray-700`,children:["Valid Until : ",e.jsx("span",{className:"font-semibold",children:t.details.expires||"-"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:`${s?"text-xs":"text-sm"} text-gray-600`,children:"Quote to:"}),e.jsx("div",{className:`text-[#3D56A6] font-semibold ${s?"text-base":"text-lg"}`,children:t.customer.name||t.customer.company||"-"}),e.jsx("div",{className:`${s?"text-xs":"text-sm"} text-gray-600`,children:t.customer.company||""}),e.jsx("div",{className:`${s?"text-xs":"text-sm"} text-gray-600`,children:t.customer.email||""}),e.jsx("div",{className:`${s?"text-xs":"text-sm"} text-gray-600`,children:t.customer.companyEmail||""}),e.jsx("div",{className:`${s?"text-xs":"text-sm"} text-gray-600`,children:t.customer.phone||""}),e.jsx("div",{className:`${s?"text-xs":"text-sm"} text-gray-600`,children:t.customer.companyPhone||""})]}),e.jsxs("div",{className:"md:text-right",children:[e.jsx("div",{className:`${s?"text-xs":"text-sm"} text-gray-600`,children:"Currency:"}),e.jsx("div",{className:`${s?"text-sm":"text-base"} text-gray-900 font-semibold`,children:t.details.currency})]})]}),e.jsx("div",{className:"overflow-x-auto mb-6",children:e.jsxs("table",{className:`min-w-full ${s?"text-[11px]":"text-sm"}`,children:[e.jsx("thead",{children:e.jsx("tr",{className:"bg-gray-100 text-gray-700",children:e.jsxs(e.Fragment,{children:[e.jsx("th",{className:`${s?"p-1.5":"p-2"} text-left`,children:"QUANTITY"}),e.jsx("th",{className:`${s?"p-1.5":"p-2"} text-left`,children:"ITEM DESCRIPTION"}),e.jsx("th",{className:`${s?"p-1.5":"p-2"} text-left`,children:"PRICE"}),e.jsx("th",{className:`${s?"p-1.5":"p-2"} text-left`,children:"AMOUNT"})]})})}),e.jsx("tbody",{children:t.items.map((c,x)=>{const r=Number(c.qty||0)*Number(c.price||0);return e.jsx("tr",{className:"border-t",children:e.jsxs(e.Fragment,{children:[e.jsx("td",{className:`${s?"p-1.5":"p-2"}`,children:c.qty}),e.jsxs("td",{className:`${s?"p-1.5":"p-2"}`,children:[e.jsx("div",{children:c.description||c.product}),c.note?e.jsxs("div",{className:`${s?"text-[10px]":"text-xs"} text-gray-500 mt-1`,children:["Note: ",c.note]}):null]}),e.jsxs("td",{className:`${s?"p-1.5":"p-2"}`,children:[u," ",Number(c.price).toFixed(2)]}),e.jsxs("td",{className:`${s?"p-1.5":"p-2"}`,children:[u," ",r.toFixed(2)]})]})},x)})})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[e.jsx("div",{children:e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`${s?"text-xs":"text-sm"} font-semibold text-gray-900 mb-2`,children:"Payment Method :"}),e.jsxs("div",{className:`${s?"text-xs":"text-sm"} text-gray-700`,children:["Account Name : ",t.details.paymentAccountName||"-"]}),e.jsx("div",{className:`${s?"text-xs":"text-sm"} text-gray-700`,children:t.details.paymentBankNote||"Bank/Credit Card"}),e.jsxs("div",{className:`${s?"text-xs":"text-sm"} text-gray-700`,children:["Paypal : ",t.details.paymentPaypal||"-"]})]})}),e.jsx("div",{className:"md:text-right",children:e.jsx("div",{className:"flex justify-end",children:e.jsxs("div",{className:`${s?"w-48":"w-56"}`,children:[e.jsxs("div",{className:`flex justify-between ${s?"text-xs":"text-sm"}`,children:[e.jsx("span",{className:"text-gray-700",children:"SUB TOTAL :"}),e.jsxs("span",{className:"font-semibold",children:[u," ",t.subtotal.toFixed(2)]})]}),e.jsxs("div",{className:`flex justify-between ${s?"text-xs":"text-sm"}`,children:[e.jsxs("span",{className:"text-gray-700",children:["TAX"," :"]}),e.jsxs("span",{className:"font-semibold",children:[u," ",t.taxTotal.toFixed(2)]})]}),e.jsxs("div",{className:`flex justify-between ${s?"text-sm":"text-base"} mt-1 border-t pt-1`,children:[e.jsxs("span",{className:"text-gray-900 font-bold",children:["TOTAL"," :"]}),e.jsxs("span",{className:"font-bold text-[#3D56A6]",children:[u," ",t.total.toFixed(2)]})]})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:`${s?"text-xs":"text-sm"} font-semibold text-gray-900 mb-2`,children:"Terms & Conditions :"}),e.jsx("div",{className:`${s?"text-xs":"text-sm"} text-gray-700 whitespace-pre-line`,children:t.details.terms})]}),e.jsx("div",{className:"md:text-right",children:e.jsxs("div",{className:"inline-block",children:[e.jsx("div",{className:`${s?"text-2xl":"text-3xl"} font-signature text-gray-700`,children:"EIT"}),e.jsx("div",{className:`${s?"text-xs":"text-sm"} text-gray-700`,children:"EIT Lasertechnik"})]})})]}),e.jsx("div",{className:`${s?"mt-6":"mt-10"} text-[#3D56A6] font-bold`,children:"Thank you for your business with us!"})]})}function O(){const t=E(),s=m.useRef(t.exportPdf);m.useEffect(()=>{s.current=t.exportPdf},[t.exportPdf]),m.useEffect(()=>{if(new URLSearchParams(window.location.search).get("autoExport")==="true"){const l=setTimeout(()=>{s.current&&s.current();const o=new URL(window.location);o.searchParams.delete("autoExport"),window.history.replaceState({},"",o)},1e3);return()=>clearTimeout(l)}},[]);const[u,c]=m.useState(!1),x=()=>{t.setDetails({...t.details,status:"Sent"}),t.save();const r=encodeURIComponent(t.customer.email||t.customer.phone||t.customer.name||t.details.number);window.location.href=`/admin.html?view=customerHistory&filter=${r}`};return e.jsxs("main",{className:"min-h-screen bg-white",children:[e.jsx("div",{className:"print:hidden",children:e.jsx(S,{})}),e.jsx("section",{className:"w-full py-10 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"print:hidden relative z-10",children:e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Quotation"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{type:"button",onClick:t.print,className:"px-4 py-2 text-sm rounded-full border border-gray-300 bg-gray-100 text-gray-900 hover:bg-[#2D4485] hover:text-white",children:"Export PDF"}),e.jsx("button",{type:"button",onClick:()=>{try{const r={customer:t.customer,items:t.items,details:{currency:t.details.currency,date:t.details.date,paymentTermsDays:7,sourceQuotationNumber:t.details.number}};localStorage.setItem("confirmedQuotation",JSON.stringify(r)),window.location.href="/invoice.html"}catch{}},className:"px-4 py-2 text-sm rounded-full border border-gray-300 bg-gray-100 text-gray-900 hover:bg-[#2D4485] hover:text-white",children:"Create Invoice"})]})]})}),e.jsx("div",{className:"grid grid-cols-1 gap-6 print:hidden",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Customer"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("input",{value:t.customer.name,onChange:r=>t.setCustomer({...t.customer,name:r.target.value}),placeholder:"Customer name",className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[#3D56A6]"}),e.jsx("input",{value:t.customer.company,onChange:r=>t.setCustomer({...t.customer,company:r.target.value}),placeholder:"Company",className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[#3D56A6]"}),e.jsx("input",{value:t.customer.email,onChange:r=>t.setCustomer({...t.customer,email:r.target.value}),placeholder:"Email",className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[#3D56A6]"}),e.jsx("input",{value:t.customer.companyEmail,onChange:r=>t.setCustomer({...t.customer,companyEmail:r.target.value}),placeholder:"Company email",className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[#3D56A6]"}),e.jsx("input",{value:t.customer.phone,onChange:r=>t.setCustomer({...t.customer,phone:r.target.value}),placeholder:"Phone",className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[#3D56A6]"}),e.jsx("input",{value:t.customer.companyPhone,onChange:r=>t.setCustomer({...t.customer,companyPhone:r.target.value}),placeholder:"Company phone",className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[#3D56A6]"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Details"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx("input",{value:t.details.number,onChange:r=>t.setDetails({...t.details,number:r.target.value}),placeholder:"Quotation number",className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[#3D56A6]"}),e.jsx("input",{type:"date",value:t.details.date,onChange:r=>t.setDetails({...t.details,date:r.target.value}),className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[#3D56A6]"}),e.jsx("input",{type:"date",value:t.details.expires,onChange:r=>t.setDetails({...t.details,expires:r.target.value}),className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[#3D56A6]"}),e.jsxs("select",{value:t.details.currency,onChange:r=>t.setDetails({...t.details,currency:r.target.value}),className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[#3D56A6]",children:[e.jsx("option",{value:"THB",children:"THB"}),e.jsx("option",{value:"USD",children:"USD"}),e.jsx("option",{value:"EUR",children:"EUR"}),e.jsx("option",{value:"GBP",children:"GBP"})]}),e.jsx("input",{value:t.details.salesperson,onChange:r=>t.setDetails({...t.details,salesperson:r.target.value}),placeholder:"Salesperson",className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[#3D56A6]"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Terms & Conditions"}),e.jsx("textarea",{value:t.details.terms,onChange:r=>t.setDetails({...t.details,terms:r.target.value}),placeholder:"Enter terms & conditions to appear on the quotation",className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[#3D56A6]",rows:"6"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Payment Method"}),e.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[e.jsx("input",{value:t.details.paymentAccountName,onChange:r=>t.setDetails({...t.details,paymentAccountName:r.target.value}),placeholder:"Account Name",className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[#3D56A6]"}),e.jsx("input",{value:t.details.paymentBankNote,onChange:r=>t.setDetails({...t.details,paymentBankNote:r.target.value}),placeholder:"Bank / Credit Card info",className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[#3D56A6]"}),e.jsx("input",{value:t.details.paymentPaypal,onChange:r=>t.setDetails({...t.details,paymentPaypal:r.target.value}),placeholder:"PayPal address",className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[#3D56A6]"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6 mt-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Items"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-left text-gray-600",children:[e.jsx("th",{className:"p-2",children:"Product"}),e.jsx("th",{className:"p-2",children:"Description"}),e.jsx("th",{className:"p-2",children:"Qty"}),e.jsx("th",{className:"p-2",children:"Unit Price"}),t.docType!=="Purchase Order"&&e.jsx("th",{className:"p-2",children:"Tax %"}),e.jsx("th",{className:"p-2",children:"Line Total"}),e.jsx("th",{className:"p-2",children:"Note"}),e.jsx("th",{className:"p-2"})]})}),e.jsx("tbody",{children:t.items.map((r,l)=>e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"p-2",children:e.jsx("input",{value:r.product,onChange:o=>t.updateItem(l,"product",o.target.value),className:"w-full rounded-lg border border-gray-300 px-2 py-1.5 text-sm focus:outline-none focus:ring-2 focus:ring-[#3D56A6]"})}),e.jsx("td",{className:"p-2",children:e.jsx("input",{value:r.description,onChange:o=>t.updateItem(l,"description",o.target.value),className:"w-full rounded-lg border border-gray-300 px-2 py-1.5 text-sm focus:outline-none focus:ring-2 focus:ring-[#3D56A6]"})}),e.jsx("td",{className:"p-2",children:e.jsx("input",{type:"text",inputMode:"numeric",value:r.qty,onChange:o=>t.updateItem(l,"qty",o.target.value),className:"w-full rounded-lg border border-gray-300 px-2 py-1.5 text-sm focus:outline-none focus:ring-2 focus:ring-[#3D56A6]"})}),e.jsx("td",{className:"p-2",children:e.jsx("input",{type:"text",inputMode:"decimal",value:r.price,onChange:o=>t.updateItem(l,"price",o.target.value),className:"w-full rounded-lg border border-gray-300 px-2 py-1.5 text-sm focus:outline-none focus:ring-2 focus:ring-[#3D56A6]"})}),t.docType!=="Purchase Order"&&e.jsx("td",{className:"p-2",children:e.jsx("input",{type:"text",inputMode:"decimal",value:r.tax,onChange:o=>t.updateItem(l,"tax",o.target.value),className:"w-full rounded-lg border border-gray-300 px-2 py-1.5 text-sm focus:outline-none focus:ring-2 focus:ring-[#3D56A6]"})}),e.jsx("td",{className:"p-2 text-right",children:(Number(r.qty||0)*Number(r.price||0)*(1+(t.docType==="Purchase Order"?0:Number(r.tax||0))/100)).toFixed(2)}),e.jsx("td",{className:"p-2",children:e.jsx("input",{value:r.note||"",onChange:o=>t.updateItem(l,"note",o.target.value),className:"w-full rounded-lg border border-gray-300 px-2 py-1.5 text-sm focus:outline-none focus:ring-2 focus:ring-[#3D56A6]"})}),e.jsx("td",{className:"p-2 text-right",children:e.jsx("button",{onClick:()=>t.removeItem(l),className:"px-3 py-1 rounded-full bg-blue-50 text-[#2D4485] hover:bg-blue-100",children:"Remove"})})]},l))})]})}),e.jsxs("div",{className:"flex justify-between mt-4",children:[e.jsx("button",{onClick:t.addItem,"aria-label":"Add item",className:"w-8 h-8 flex items-center justify-center rounded-md border border-gray-300 bg-gray-100 text-gray-900 hover:bg-[#2D4485] hover:text-white",children:e.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})}),e.jsxs("div",{className:"w-64",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Subtotal"}),e.jsxs("span",{className:"font-semibold",children:[t.subtotal.toFixed(2)," ",t.details.currency]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:t.docType==="Purchase Order"?"Vat 7%":"Tax"}),e.jsxs("span",{className:"font-semibold",children:[t.taxTotal.toFixed(2)," ",t.details.currency]})]}),e.jsxs("div",{className:"flex justify-between text-lg",children:[e.jsx("span",{className:"text-gray-900",children:t.docType==="Purchase Order"?"Grand Total Amount":"Total"}),e.jsxs("span",{className:"font-bold text-[#3D56A6]",children:[t.total.toFixed(2)," ",t.details.currency]})]})]})]})]}),e.jsx("div",{className:"flex justify-end mt-2 print:hidden",children:e.jsx("button",{type:"button",onClick:()=>c(!0),className:"btn-pill",children:"Confirm"})})]})}),e.jsx("div",{className:"mt-8 print:mt-0 hidden print:block",id:"quotation-document","aria-hidden":"true",children:e.jsx(D,{q:t})}),u&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50"}),e.jsxs("div",{className:"relative bg-white rounded-xl shadow-xl border w-full max-w-3xl mx-4 p-4 max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("div",{className:"text-xl font-bold text-[#2D4485]",children:"Preview Quotation"})}),e.jsx("div",{className:"bg-white rounded-xl border shadow-sm p-2",children:e.jsx(D,{q:t,compact:!0})}),e.jsxs("div",{className:"flex items-center justify-between gap-2 mt-4",children:[e.jsx("button",{"aria-label":"Close preview",onClick:()=>c(!1),className:"px-3 py-2 rounded-full border border-gray-300 bg-white text-gray-700 hover:bg-gray-100",children:e.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:t.exportPdf,className:"px-4 py-2 rounded-full border border-gray-300 bg-gray-100 text-gray-900 hover:bg-[#2D4485] hover:text-white",children:"Export PDF"}),e.jsx("button",{onClick:t.print,className:"px-4 py-2 rounded-full border border-gray-300 bg-gray-100 text-gray-900 hover:bg-[#2D4485] hover:text-white",children:"Print"}),e.jsx("button",{onClick:x,className:"px-4 py-2 rounded-full bg-[#2D4485] text-white hover:bg-[#3D56A6]",children:"Send"})]})]})]})]})]})})]})}P.createRoot(document.getElementById("root")).render(e.jsx(m.StrictMode,{children:e.jsx(k,{children:e.jsx(O,{})})}));
