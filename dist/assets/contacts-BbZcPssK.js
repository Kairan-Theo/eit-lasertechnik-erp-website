import{R as g,j as t,a as l}from"./index-BS0Ij8SW.js";import{N as p}from"./navigation-DW0cn6Qn.js";import{L as y}from"./language-context-BfcVNXdW.js";function j(){const[s,c]=l.useState(""),[n,a]=l.useState(()=>{try{const e=JSON.parse(localStorage.getItem("crmContacts")||"[]");return Array.isArray(e)?e:[]}catch{return[]}}),r=e=>{var o,m,x,u,h;const d=[{name:((o=e.name)==null?void 0:o.trim())||"Untitled",contact:((m=e.contact)==null?void 0:m.trim())||"",email:((x=e.email)==null?void 0:x.trim())||"",phone:((u=e.phone)==null?void 0:u.trim())||"",address:((h=e.address)==null?void 0:h.trim())||"",updatedAt:new Date().toISOString()},...n];a(d);try{localStorage.setItem("crmContacts",JSON.stringify(d.slice(0,500)))}catch{}},i=n.filter(e=>{const d=s.trim().toLowerCase();return d?[e.name,e.contact,e.email,e.phone,e.address].some(o=>String(o||"").toLowerCase().includes(d)):!0});return{query:s,setQuery:c,filtered:i,addContact:r}}function b(){const s=j(),[c,n]=l.useState(!1),[a,r]=l.useState({name:"",contact:"",email:"",phone:"",address:""}),i=!!a.name;return t.jsxs("main",{className:"min-h-screen bg-white",children:[t.jsx(p,{}),t.jsx("section",{className:"w-full py-10 px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Contacts Directory"}),t.jsx("button",{className:"px-3 py-1.5 rounded-md border border-gray-300 bg-gray-100 text-gray-900 hover:bg-[#2D4485] hover:text-white",onClick:()=>n(!0),children:"Add Contact"})]}),t.jsx("div",{className:"flex items-center gap-3 mb-4",children:t.jsx("input",{value:s.query,onChange:e=>s.setQuery(e.target.value),placeholder:"Search by company, contact, email, phone",className:"w-full sm:w-96 rounded-md border border-gray-300 px-3 py-2"})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.filtered.map((e,d)=>t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-semibold text-gray-900 truncate",children:e.name}),t.jsx("div",{className:"text-xs text-gray-500",children:new Date(e.updatedAt||Date.now()).toLocaleDateString()})]}),t.jsx("div",{className:"mt-2 text-sm text-gray-800",children:e.contact||"-"}),t.jsx("div",{className:"mt-1 text-xs text-gray-600",children:t.jsx("a",{href:`mailto:${e.email||""}`,className:"underline",children:e.email||"-"})}),t.jsx("div",{className:"mt-1 text-xs text-gray-600",children:t.jsx("a",{href:`tel:${e.phone||""}`,className:"underline",children:e.phone||"-"})}),t.jsx("div",{className:"mt-2 text-xs text-gray-600",children:e.address||"-"})]},d)),!s.filtered.length&&t.jsx("div",{className:"text-sm text-gray-600",children:"No contacts yet. Add from here or update deals in CRM."})]})]})}),c&&t.jsx("div",{className:"fixed inset-0 z-50 bg-black/40 flex items-center justify-center",onClick:()=>n(!1),children:t.jsxs("div",{className:"bg-white rounded-xl shadow-lg w-full max-w-md p-6",onClick:e=>e.stopPropagation(),children:[t.jsx("div",{className:"text-lg font-semibold mb-4 text-gray-900",children:"New Contact"}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("input",{value:a.name,onChange:e=>r({...a,name:e.target.value}),placeholder:"Company name",className:"w-full rounded-md border border-gray-300 px-3 py-2"}),t.jsx("input",{value:a.contact,onChange:e=>r({...a,contact:e.target.value}),placeholder:"Contact person",className:"w-full rounded-md border border-gray-300 px-3 py-2"}),t.jsx("input",{value:a.email,onChange:e=>r({...a,email:e.target.value}),placeholder:"Email",className:"w-full rounded-md border border-gray-300 px-3 py-2"}),t.jsx("input",{value:a.phone,onChange:e=>r({...a,phone:e.target.value}),placeholder:"Phone",className:"w-full rounded-md border border-gray-300 px-3 py-2"}),t.jsx("input",{value:a.address,onChange:e=>r({...a,address:e.target.value}),placeholder:"Address",className:"w-full rounded-md border border-gray-300 px-3 py-2"}),t.jsxs("div",{className:"flex justify-end gap-2",children:[t.jsx("button",{onClick:()=>n(!1),className:"px-3 py-1.5 rounded-md border border-gray-300 bg-white",children:"Cancel"}),t.jsx("button",{disabled:!i,onClick:()=>{s.addContact(a),n(!1),r({name:"",contact:"",email:"",phone:"",address:""})},className:"px-3 py-1.5 rounded-md bg-[#2D4485] text-white disabled:opacity-50",children:"Add"})]})]})]})})]})}g.createRoot(document.getElementById("root")).render(t.jsx(l.StrictMode,{children:t.jsx(y,{children:t.jsx(b,{})})}));
