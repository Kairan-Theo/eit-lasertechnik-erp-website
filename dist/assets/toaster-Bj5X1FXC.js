import{r as s,j as n,a as j,b as Fe}from"./index-BY_FY2h5.js";import{b as Me,d as ie,u as $,P as _,B as Oe,e as Le,f as Ve,g as P,h as X,R as ke,i as Ke,j as We,k as He,l as M,m as $e,X as Xe,n as Ue}from"./navigation-BPz6xB7x.js";var Z=s.forwardRef((e,t)=>{const{children:o,...r}=e,a=s.Children.toArray(o),l=a.find(Ye);if(l){const d=l.props.children,m=a.map(v=>v===l?s.Children.count(d)>1?s.Children.only(null):s.isValidElement(d)?d.props.children:null:v);return n.jsx(G,{...r,ref:t,children:s.isValidElement(d)?s.cloneElement(d,void 0,m):null})}return n.jsx(G,{...r,ref:t,children:o})});Z.displayName="Slot";var G=s.forwardRef((e,t)=>{const{children:o,...r}=e;if(s.isValidElement(o)){const a=ze(o);return s.cloneElement(o,{...qe(r,o.props),ref:t?Me(t,a):a})}return s.Children.count(o)>1?s.Children.only(null):null});G.displayName="SlotClone";var Be=({children:e})=>n.jsx(n.Fragment,{children:e});function Ye(e){return s.isValidElement(e)&&e.type===Be}function qe(e,t){const o={...t};for(const r in t){const a=e[r],l=t[r];/^on[A-Z]/.test(r)?a&&l?o[r]=(...m)=>{l(...m),a(...m)}:a&&(o[r]=a):r==="style"?o[r]={...a,...l}:r==="className"&&(o[r]=[a,l].filter(Boolean).join(" "))}return{...e,...o}}function ze(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,o=t&&"isReactWarning"in t&&t.isReactWarning;return o?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,o=t&&"isReactWarning"in t&&t.isReactWarning,o?e.props.ref:e.props.ref||e.ref)}function Ze(e){const t=e+"CollectionProvider",[o,r]=ie(t),[a,l]=o(t,{collectionRef:{current:null},itemMap:new Map}),d=g=>{const{scope:y,children:f}=g,i=j.useRef(null),w=j.useRef(new Map).current;return n.jsx(a,{scope:y,itemMap:w,collectionRef:i,children:f})};d.displayName=t;const m=e+"CollectionSlot",v=j.forwardRef((g,y)=>{const{scope:f,children:i}=g,w=l(m,f),p=$(y,w.collectionRef);return n.jsx(Z,{ref:p,children:i})});v.displayName=m;const c=e+"CollectionItemSlot",C="data-radix-collection-item",E=j.forwardRef((g,y)=>{const{scope:f,children:i,...w}=g,p=j.useRef(null),x=$(y,p),T=l(c,f);return j.useEffect(()=>(T.itemMap.set(p,{ref:p,...w}),()=>void T.itemMap.delete(p))),n.jsx(Z,{[C]:"",ref:x,children:i})});E.displayName=c;function S(g){const y=l(e+"CollectionConsumer",g);return j.useCallback(()=>{const i=y.collectionRef.current;if(!i)return[];const w=Array.from(i.querySelectorAll(`[${C}]`));return Array.from(y.itemMap.values()).sort((T,h)=>w.indexOf(T.ref.current)-w.indexOf(h.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:d,Slot:v,ItemSlot:E},S,r]}var Ge="VisuallyHidden",te=s.forwardRef((e,t)=>n.jsx(_.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));te.displayName=Ge;var oe="ToastProvider",[re,Je,Qe]=Ze("Toast"),[ce]=ie("Toast",[Qe]),[et,U]=ce(oe),le=e=>{const{__scopeToast:t,label:o="Notification",duration:r=5e3,swipeDirection:a="right",swipeThreshold:l=50,children:d}=e,[m,v]=s.useState(null),[c,C]=s.useState(0),E=s.useRef(!1),S=s.useRef(!1);return o.trim()||console.error(`Invalid prop \`label\` supplied to \`${oe}\`. Expected non-empty \`string\`.`),n.jsx(re.Provider,{scope:t,children:n.jsx(et,{scope:t,label:o,duration:r,swipeDirection:a,swipeThreshold:l,toastCount:c,viewport:m,onViewportChange:v,onToastAdd:s.useCallback(()=>C(g=>g+1),[]),onToastRemove:s.useCallback(()=>C(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:E,isClosePausedRef:S,children:d})})};le.displayName=oe;var ue="ToastViewport",tt=["F8"],J="toast.viewportPause",Q="toast.viewportResume",de=s.forwardRef((e,t)=>{const{__scopeToast:o,hotkey:r=tt,label:a="Notifications ({hotkey})",...l}=e,d=U(ue,o),m=Je(o),v=s.useRef(null),c=s.useRef(null),C=s.useRef(null),E=s.useRef(null),S=$(t,E,d.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=d.toastCount>0;s.useEffect(()=>{const i=w=>{var x;r.length!==0&&r.every(T=>w[T]||w.code===T)&&((x=E.current)==null||x.focus())};return document.addEventListener("keydown",i),()=>document.removeEventListener("keydown",i)},[r]),s.useEffect(()=>{const i=v.current,w=E.current;if(y&&i&&w){const p=()=>{if(!d.isClosePausedRef.current){const R=new CustomEvent(J);w.dispatchEvent(R),d.isClosePausedRef.current=!0}},x=()=>{if(d.isClosePausedRef.current){const R=new CustomEvent(Q);w.dispatchEvent(R),d.isClosePausedRef.current=!1}},T=R=>{!i.contains(R.relatedTarget)&&x()},h=()=>{i.contains(document.activeElement)||x()};return i.addEventListener("focusin",p),i.addEventListener("focusout",T),i.addEventListener("pointermove",p),i.addEventListener("pointerleave",h),window.addEventListener("blur",p),window.addEventListener("focus",x),()=>{i.removeEventListener("focusin",p),i.removeEventListener("focusout",T),i.removeEventListener("pointermove",p),i.removeEventListener("pointerleave",h),window.removeEventListener("blur",p),window.removeEventListener("focus",x)}}},[y,d.isClosePausedRef]);const f=s.useCallback(({tabbingDirection:i})=>{const p=m().map(x=>{const T=x.ref.current,h=[T,...mt(T)];return i==="forwards"?h:h.reverse()});return(i==="forwards"?p.reverse():p).flat()},[m]);return s.useEffect(()=>{const i=E.current;if(i){const w=p=>{var h,R,A;const x=p.altKey||p.ctrlKey||p.metaKey;if(p.key==="Tab"&&!x){const O=document.activeElement,D=p.shiftKey;if(p.target===i&&D){(h=c.current)==null||h.focus();return}const I=f({tabbingDirection:D?"backwards":"forwards"}),k=I.findIndex(u=>u===O);z(I.slice(k+1))?p.preventDefault():D?(R=c.current)==null||R.focus():(A=C.current)==null||A.focus()}};return i.addEventListener("keydown",w),()=>i.removeEventListener("keydown",w)}},[m,f]),n.jsxs(Oe,{ref:v,role:"region","aria-label":a.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&n.jsx(ee,{ref:c,onFocusFromOutsideViewport:()=>{const i=f({tabbingDirection:"forwards"});z(i)}}),n.jsx(re.Slot,{scope:o,children:n.jsx(_.ol,{tabIndex:-1,...l,ref:S})}),y&&n.jsx(ee,{ref:C,onFocusFromOutsideViewport:()=>{const i=f({tabbingDirection:"backwards"});z(i)}})]})});de.displayName=ue;var fe="ToastFocusProxy",ee=s.forwardRef((e,t)=>{const{__scopeToast:o,onFocusFromOutsideViewport:r,...a}=e,l=U(fe,o);return n.jsx(te,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:d=>{var c;const m=d.relatedTarget;!((c=l.viewport)!=null&&c.contains(m))&&r()}})});ee.displayName=fe;var B="Toast",ot="toast.swipeStart",rt="toast.swipeMove",st="toast.swipeCancel",nt="toast.swipeEnd",pe=s.forwardRef((e,t)=>{const{forceMount:o,open:r,defaultOpen:a,onOpenChange:l,...d}=e,[m=!0,v]=Le({prop:r,defaultProp:a,onChange:l});return n.jsx(Ve,{present:o||m,children:n.jsx(ct,{open:m,...d,ref:t,onClose:()=>v(!1),onPause:X(e.onPause),onResume:X(e.onResume),onSwipeStart:P(e.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:P(e.onSwipeMove,c=>{const{x:C,y:E}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${C}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${E}px`)}),onSwipeCancel:P(e.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:P(e.onSwipeEnd,c=>{const{x:C,y:E}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${C}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${E}px`),v(!1)})})})});pe.displayName=B;var[at,it]=ce(B,{onClose(){}}),ct=s.forwardRef((e,t)=>{const{__scopeToast:o,type:r="foreground",duration:a,open:l,onClose:d,onEscapeKeyDown:m,onPause:v,onResume:c,onSwipeStart:C,onSwipeMove:E,onSwipeCancel:S,onSwipeEnd:g,...y}=e,f=U(B,o),[i,w]=s.useState(null),p=$(t,u=>w(u)),x=s.useRef(null),T=s.useRef(null),h=a||f.duration,R=s.useRef(0),A=s.useRef(h),O=s.useRef(0),{onToastAdd:D,onToastRemove:Y}=f,F=X(()=>{var b;(i==null?void 0:i.contains(document.activeElement))&&((b=f.viewport)==null||b.focus()),d()}),I=s.useCallback(u=>{!u||u===1/0||(window.clearTimeout(O.current),R.current=new Date().getTime(),O.current=window.setTimeout(F,u))},[F]);s.useEffect(()=>{const u=f.viewport;if(u){const b=()=>{I(A.current),c==null||c()},N=()=>{const L=new Date().getTime()-R.current;A.current=A.current-L,window.clearTimeout(O.current),v==null||v()};return u.addEventListener(J,N),u.addEventListener(Q,b),()=>{u.removeEventListener(J,N),u.removeEventListener(Q,b)}}},[f.viewport,h,v,c,I]),s.useEffect(()=>{l&&!f.isClosePausedRef.current&&I(h)},[l,h,f.isClosePausedRef,I]),s.useEffect(()=>(D(),()=>Y()),[D,Y]);const k=s.useMemo(()=>i?Ee(i):null,[i]);return f.viewport?n.jsxs(n.Fragment,{children:[k&&n.jsx(lt,{__scopeToast:o,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:k}),n.jsx(at,{scope:o,onClose:F,children:Fe.createPortal(n.jsx(re.ItemSlot,{scope:o,children:n.jsx(ke,{asChild:!0,onEscapeKeyDown:P(m,()=>{f.isFocusedToastEscapeKeyDownRef.current||F(),f.isFocusedToastEscapeKeyDownRef.current=!1}),children:n.jsx(_.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":l?"open":"closed","data-swipe-direction":f.swipeDirection,...y,ref:p,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:P(e.onKeyDown,u=>{u.key==="Escape"&&(m==null||m(u.nativeEvent),u.nativeEvent.defaultPrevented||(f.isFocusedToastEscapeKeyDownRef.current=!0,F()))}),onPointerDown:P(e.onPointerDown,u=>{u.button===0&&(x.current={x:u.clientX,y:u.clientY})}),onPointerMove:P(e.onPointerMove,u=>{if(!x.current)return;const b=u.clientX-x.current.x,N=u.clientY-x.current.y,L=!!T.current,V=["left","right"].includes(f.swipeDirection),K=["left","up"].includes(f.swipeDirection)?Math.min:Math.max,_e=V?K(0,b):0,De=V?0:K(0,N),q=u.pointerType==="touch"?10:2,W={x:_e,y:De},ne={originalEvent:u,delta:W};L?(T.current=W,H(rt,E,ne,{discrete:!1})):ae(W,f.swipeDirection,q)?(T.current=W,H(ot,C,ne,{discrete:!1}),u.target.setPointerCapture(u.pointerId)):(Math.abs(b)>q||Math.abs(N)>q)&&(x.current=null)}),onPointerUp:P(e.onPointerUp,u=>{const b=T.current,N=u.target;if(N.hasPointerCapture(u.pointerId)&&N.releasePointerCapture(u.pointerId),T.current=null,x.current=null,b){const L=u.currentTarget,V={originalEvent:u,delta:b};ae(b,f.swipeDirection,f.swipeThreshold)?H(nt,g,V,{discrete:!0}):H(st,S,V,{discrete:!0}),L.addEventListener("click",K=>K.preventDefault(),{once:!0})}})})})}),f.viewport)})]}):null}),lt=e=>{const{__scopeToast:t,children:o,...r}=e,a=U(B,t),[l,d]=s.useState(!1),[m,v]=s.useState(!1);return ft(()=>d(!0)),s.useEffect(()=>{const c=window.setTimeout(()=>v(!0),1e3);return()=>window.clearTimeout(c)},[]),m?null:n.jsx(Ke,{asChild:!0,children:n.jsx(te,{...r,children:l&&n.jsxs(n.Fragment,{children:[a.label," ",o]})})})},ut="ToastTitle",me=s.forwardRef((e,t)=>{const{__scopeToast:o,...r}=e;return n.jsx(_.div,{...r,ref:t})});me.displayName=ut;var dt="ToastDescription",ve=s.forwardRef((e,t)=>{const{__scopeToast:o,...r}=e;return n.jsx(_.div,{...r,ref:t})});ve.displayName=dt;var we="ToastAction",xe=s.forwardRef((e,t)=>{const{altText:o,...r}=e;return o.trim()?n.jsx(ye,{altText:o,asChild:!0,children:n.jsx(se,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${we}\`. Expected non-empty \`string\`.`),null)});xe.displayName=we;var Te="ToastClose",se=s.forwardRef((e,t)=>{const{__scopeToast:o,...r}=e,a=it(Te,o);return n.jsx(ye,{asChild:!0,children:n.jsx(_.button,{type:"button",...r,ref:t,onClick:P(e.onClick,a.onClose)})})});se.displayName=Te;var ye=s.forwardRef((e,t)=>{const{__scopeToast:o,altText:r,...a}=e;return n.jsx(_.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...a,ref:t})});function Ee(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),pt(r)){const a=r.ariaHidden||r.hidden||r.style.display==="none",l=r.dataset.radixToastAnnounceExclude==="";if(!a)if(l){const d=r.dataset.radixToastAnnounceAlt;d&&t.push(d)}else t.push(...Ee(r))}}),t}function H(e,t,o,{discrete:r}){const a=o.originalEvent.currentTarget,l=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:o});t&&a.addEventListener(e,t,{once:!0}),r?He(a,l):a.dispatchEvent(l)}var ae=(e,t,o=0)=>{const r=Math.abs(e.x),a=Math.abs(e.y),l=r>a;return t==="left"||t==="right"?l&&r>o:!l&&a>o};function ft(e=()=>{}){const t=X(e);We(()=>{let o=0,r=0;return o=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(o),window.cancelAnimationFrame(r)}},[t])}function pt(e){return e.nodeType===e.ELEMENT_NODE}function mt(e){const t=[],o=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;o.nextNode();)t.push(o.currentNode);return t}function z(e){const t=document.activeElement;return e.some(o=>o===t?!0:(o.focus(),document.activeElement!==t))}var vt=le,ge=de,he=pe,Ce=me,Re=ve,be=xe,Pe=se;const wt=vt,Ne=s.forwardRef(({className:e,...t},o)=>n.jsx(ge,{ref:o,className:M("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Ne.displayName=ge.displayName;const xt=$e("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Se=s.forwardRef(({className:e,variant:t,...o},r)=>n.jsx(he,{ref:r,className:M(xt({variant:t}),e),...o}));Se.displayName=he.displayName;const Tt=s.forwardRef(({className:e,...t},o)=>n.jsx(be,{ref:o,className:M("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));Tt.displayName=be.displayName;const Ae=s.forwardRef(({className:e,...t},o)=>n.jsx(Pe,{ref:o,className:M("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:n.jsx(Xe,{className:"h-4 w-4"})}));Ae.displayName=Pe.displayName;const Ie=s.forwardRef(({className:e,...t},o)=>n.jsx(Ce,{ref:o,className:M("text-sm font-semibold",e),...t}));Ie.displayName=Ce.displayName;const je=s.forwardRef(({className:e,...t},o)=>n.jsx(Re,{ref:o,className:M("text-sm opacity-90",e),...t}));je.displayName=Re.displayName;function gt(){const{toasts:e}=Ue();return n.jsxs(wt,{children:[e.map(function({id:t,title:o,description:r,action:a,...l}){return n.jsxs(Se,{...l,children:[n.jsxs("div",{className:"grid gap-1",children:[o&&n.jsx(Ie,{children:o}),r&&n.jsx(je,{children:r})]}),a,n.jsx(Ae,{})]},t)}),n.jsx(Ne,{})]})}export{gt as T};
