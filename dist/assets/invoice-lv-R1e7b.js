import{a as p,j as e,A as P,R as $}from"./index-BS0Ij8SW.js";import{L as O}from"./language-context-BfcVNXdW.js";function E(){const[t,c]=p.useState({name:"",company:"",email:"",phone:"",billingAddress1:"",billingAddress2:""}),[d,g]=p.useState({number:"",date:new Date().toISOString().slice(0,10),dueDate:"",currency:"THB",notes:"",addressChoice:"1",paymentTermsDays:7,sourceQuotationNumber:""}),[x,y]=p.useState([{product:"",description:"",qty:1,price:0,tax:0}]);p.useEffect(()=>{try{const n=localStorage.getItem("confirmedQuotation");if(n){const s=JSON.parse(n);c(r=>({...r,...s.customer})),y(Array.isArray(s.items)&&s.items.length?s.items:[{product:"",description:"",qty:1,price:0,tax:0}]),g(r=>{var C,I,T,A,k;const l=((C=s.details)==null?void 0:C.date)||r.date,u=Number(((I=s.details)==null?void 0:I.paymentTermsDays)??r.paymentTermsDays),h=new Date(l),m=new Date(h);Number.isNaN(u)||m.setDate(m.getDate()+u);const v=r.number||((T=s.details)==null?void 0:T.number)||(()=>{const f=new Date;return`INV-${f.getFullYear()}${String(f.getMonth()+1).padStart(2,"0")}${String(f.getDate()).padStart(2,"0")}-${String(f.getHours()).padStart(2,"0")}${String(f.getMinutes()).padStart(2,"0")}`})();return{...r,...s.details,currency:((A=s.details)==null?void 0:A.currency)||r.currency,date:l,paymentTermsDays:u,number:v,dueDate:m.toISOString().slice(0,10),sourceQuotationNumber:((k=s.details)==null?void 0:k.sourceQuotationNumber)||r.sourceQuotationNumber||""}}),localStorage.removeItem("confirmedQuotation");return}}catch{}g(n=>{const s=new Date(n.date||new Date().toISOString().slice(0,10)),r=n.number||`INV-${s.getFullYear()}${String(s.getMonth()+1).padStart(2,"0")}${String(s.getDate()).padStart(2,"0")}-${String(s.getHours()).padStart(2,"0")}${String(s.getMinutes()).padStart(2,"0")}`,l=new Date(s);return l.setDate(l.getDate()+Number(n.paymentTermsDays||0)),{...n,number:r,dueDate:l.toISOString().slice(0,10)}})},[]),p.useEffect(()=>{try{const n=new Date(d.date);if(isNaN(n.getTime()))return;const s=new Date(n);s.setDate(s.getDate()+Number(d.paymentTermsDays||0));const r=s.toISOString().slice(0,10);g(l=>({...l,dueDate:r}))}catch{}},[d.date,d.paymentTermsDays]);const b=x.reduce((n,s)=>n+(Number(s.qty)||0)*(Number(s.price)||0),0),j=x.reduce((n,s)=>n+(Number(s.qty)||0)*(Number(s.price)||0)*((Number(s.tax)||0)/100),0),N=b+j;return{customer:t,setCustomer:c,details:d,setDetails:g,items:x,addItem:()=>y(n=>[...n,{product:"",description:"",qty:1,price:0,tax:0}]),removeItem:n=>y(s=>s.filter((r,l)=>l!==n)),updateItem:(n,s,r)=>y(l=>l.map((u,h)=>h===n?{...u,[s]:s==="qty"||s==="price"||s==="tax"?r===""?"":Number(r):r}:u)),subtotal:b,taxTotal:j,total:N,confirm:()=>{const n={customer:t,details:d,items:x,totals:{subtotal:b,taxTotal:j,total:N}};localStorage.setItem("invoiceDraft",JSON.stringify(n));try{const s=`history:${t.email||t.phone||t.name||d.number}`,r=JSON.parse(localStorage.getItem(s)||"{}"),l=Array.isArray(r.invoices)?r.invoices:[];l.push({...n,savedAt:new Date().toISOString()}),localStorage.setItem(s,JSON.stringify({...r,customer:t,invoices:l}))}catch{}try{const s=localStorage.getItem("authToken");if(s){const r={number:d.number,customer:t,items:x,details:d,totals:{subtotal:b,taxTotal:j,total:N}};fetch(`${P}/api/invoices/`,{method:"POST",headers:{Authorization:`Token ${s}`,"Content-Type":"application/json"},body:JSON.stringify(r)}).catch(()=>{})}}catch{}},print:()=>window.print(),exportPdf:async()=>{const n=document.getElementById("invoice-document");if(!n)return;const s={margin:10,filename:`Invoice_${d.number}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2,useCORS:!0},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"}},r=n.cloneNode(!0);r.style.position="fixed",r.style.left="-10000px",r.style.top="0",r.style.display="block",r.style.background="#ffffff",r.classList.remove("hidden"),r.removeAttribute("aria-hidden"),document.body.appendChild(r);try{const u=await new Promise(h=>{if(window.html2pdf)return h(window.html2pdf);const m=document.createElement("script");m.src="https://cdn.jsdelivr.net/npm/html2pdf.js@0.10.1/dist/html2pdf.bundle.min.js",m.onload=()=>h(window.html2pdf),m.onerror=()=>h(null),document.head.appendChild(m)});typeof u=="function"?await u().set(s).from(r).save():window.print()}finally{document.body.removeChild(r)}},emailTo:(n=d.addressChoice)=>{if(!t.email)return{ok:!1,message:"No customer email provided"};const s=encodeURIComponent(`Invoice ${d.number}`),r=n==="2"?t.billingAddress2||t.billingAddress1||"-":t.billingAddress1||t.billingAddress2||"-",l=encodeURIComponent(`Dear ${t.name||t.company},

Please find your invoice ${d.number} dated ${d.date}.

Total: ${N.toFixed(2)} ${d.currency}
Due Date: ${d.dueDate||"-"}
Invoice Address:
${r}

Notes:
${d.notes||"-"}

Regards,
EIT Lasertechnik`),u=`mailto:${t.email}?subject=${s}&body=${l}`;window.location.href=u;try{const h=`history:${t.email||t.phone||t.name||d.number}`,m=JSON.parse(localStorage.getItem(h)||"{}"),v=Array.isArray(m.emails)?m.emails:[];v.push({type:"invoice",number:d.number,sentAt:new Date().toISOString(),addressChoice:n}),localStorage.setItem(h,JSON.stringify({...m,customer:t,emails:v}))}catch{}return{ok:!0}}}}function B({inv:t}){const c=t.details.currency==="THB"?"฿":t.details.currency==="USD"?"$":t.details.currency==="EUR"?"€":t.details.currency==="GBP"?"£":t.details.currency;return e.jsxs("div",{className:"relative bg-white rounded-xl border shadow-sm p-8 print:shadow-none print:border-0 overflow-hidden",children:[e.jsx("div",{className:"absolute -left-10 -top-10 w-56 h-56 bg-[#2D4485] opacity-90 rotate-12"}),e.jsx("div",{className:"absolute -right-24 -bottom-24 w-80 h-80 bg-[#2D4485] opacity-90 -rotate-12"}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-start justify-between mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-white rounded flex items-center justify-center overflow-hidden",children:e.jsx("img",{src:"/eit-icon.png",alt:"EIT",className:"w-10 h-10 object-contain"})}),e.jsxs("div",{className:"leading-tight",children:[e.jsx("div",{className:"text-[#2D4485] font-bold text-lg",children:"EIT Lasertechnik"}),e.jsx("div",{className:"text-gray-500 text-sm",children:"Invoice"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold text-[#2D4485] tracking-wide",children:"INVOICE"}),e.jsxs("div",{className:"mt-2 text-sm text-gray-700",children:["Invoice Number : ",e.jsx("span",{className:"font-semibold",children:t.details.number})]}),e.jsxs("div",{className:"text-sm text-gray-700",children:["Due Date : ",e.jsx("span",{className:"font-semibold",children:t.details.dueDate||"-"})]}),e.jsxs("div",{className:"text-sm text-gray-700",children:["Invoice Date : ",e.jsx("span",{className:"font-semibold",children:t.details.date})]}),e.jsxs("div",{className:"text-sm text-gray-700",children:["From Quotation : ",e.jsx("a",{href:"/quotation.html",className:"font-semibold text-[#2D4485] hover:underline",children:t.details.sourceQuotationNumber||"-"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Invoice to:"}),e.jsx("div",{className:"text-[#2D4485] font-semibold text-lg",children:t.customer.name||t.customer.company||"-"}),e.jsx("div",{className:"text-gray-600 text-sm",children:t.customer.company||""}),e.jsx("div",{className:"text-gray-600 text-sm",children:t.customer.email||""}),e.jsx("div",{className:"text-gray-600 text-sm",children:t.customer.phone||""})]}),e.jsxs("div",{className:"md:text-right",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Currency:"}),e.jsx("div",{className:"text-gray-900 font-semibold",children:t.details.currency})]})]}),e.jsx("div",{className:"overflow-x-auto mb-6",children:e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 text-gray-700",children:[e.jsx("th",{className:"p-2 text-left",children:"QUANTITY"}),e.jsx("th",{className:"p-2 text-left",children:"ITEM DESCRIPTION"}),e.jsx("th",{className:"p-2 text-left",children:"PRICE"}),e.jsx("th",{className:"p-2 text-left",children:"AMOUNT"})]})}),e.jsx("tbody",{children:t.items.map((d,g)=>{const x=(Number(d.qty)||0)*(Number(d.price)||0);return e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"p-2",children:d.qty}),e.jsx("td",{className:"p-2",children:d.description||d.product}),e.jsxs("td",{className:"p-2",children:[c," ",Number(d.price||0).toFixed(2)]}),e.jsxs("td",{className:"p-2",children:[c," ",x.toFixed(2)]})]},g)})})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Payment Method :"}),e.jsx("div",{className:"text-sm text-gray-700",children:"Account Name : EIT Lasertechnik"}),e.jsx("div",{className:"text-sm text-gray-700",children:"Bank/Credit Card"}),e.jsx("div",{className:"text-sm text-gray-700",children:"Paypal : hello@eitlasertechnik.com"})]}),e.jsx("div",{className:"md:text-right",children:e.jsx("div",{className:"flex justify-end",children:e.jsxs("div",{className:"w-56",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-700",children:"SUBTOTAL :"}),e.jsxs("span",{className:"font-semibold",children:[c," ",t.subtotal.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-700",children:"TAX :"}),e.jsxs("span",{className:"font-semibold",children:[c," ",t.taxTotal.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-base mt-1",children:[e.jsx("span",{className:"text-gray-900 font-semibold",children:"TOTAL :"}),e.jsxs("span",{className:"font-bold text-[#2D4485]",children:[c," ",t.total.toFixed(2)]})]})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Terms & Conditions :"}),e.jsx("div",{className:"text-sm text-gray-700",children:"Please send payment within 30 days of receiving this invoice."}),e.jsx("div",{className:"text-sm text-gray-700",children:"There will be a 1.5% interest charge per month on late invoices."})]}),e.jsx("div",{className:"md:text-right",children:e.jsxs("div",{className:"inline-block",children:[e.jsx("div",{className:"text-3xl text-gray-700",children:"EIT"}),e.jsx("div",{className:"text-sm text-gray-700",children:"EIT Lasertechnik"})]})})]}),e.jsx("div",{className:"mt-10 text-[#2D4485] font-bold",children:"Thank for your business with us!"})]})]})}function L(){const t=E(),[c,d]=p.useState({open:!1,choice:"1"}),[g,x]=p.useState({show:!1,text:""}),y=a=>d({open:!0,choice:a}),b=()=>d(a=>({...a,open:!1})),j=()=>{const a=c.choice;d(o=>({...o,open:!1}));const i=t.emailTo(a);!i||!i.ok?x({show:!0,text:(i==null?void 0:i.message)||"No email provided"}):x({show:!0,text:"Sent"}),setTimeout(()=>x({show:!1,text:""}),2e3)},D=new Date().toLocaleDateString();t.details.date&&new Date(t.details.date).toLocaleDateString();const S=t.details.dueDate?new Date(t.details.dueDate).toLocaleDateString():"-",w=t.details.dueDate&&t.details.date?Math.round((new Date(t.details.dueDate).getTime()-new Date(t.details.date).getTime())/(1e3*60*60*24)):null;return e.jsx("main",{className:"min-h-screen bg-white",children:e.jsx("section",{className:"w-full py-10 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"print:hidden relative z-10",children:e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Invoice"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{type:"button",onClick:t.confirm,className:"px-4 py-2 text-sm rounded-full border border-gray-300 bg-gray-100 text-gray-900 hover:bg-[#2D4485] hover:text-white",children:"Confirm"}),e.jsx("button",{type:"button",onClick:t.exportPdf,className:"px-4 py-2 text-sm rounded-full border border-gray-300 bg-gray-100 text-gray-900 hover:bg-[#2D4485] hover:text-white",children:"Export PDF"}),e.jsx("button",{type:"button",onClick:t.print,className:"px-4 py-2 text-sm rounded-full border border-gray-300 bg-gray-100 text-gray-900 hover:bg-[#2D4485] hover:text-white",children:"Print"}),e.jsx("button",{type:"button",onClick:()=>y("1"),className:"px-4 py-2 text-sm rounded-full border border-gray-300 bg-gray-100 text-gray-900 hover:bg-[#2D4485] hover:text-white",children:"Send Addr 1"}),e.jsx("button",{type:"button",onClick:()=>y("2"),className:"px-4 py-2 text-sm rounded-full border border-gray-300 bg-gray-100 text-gray-900 hover:bg-[#2D4485] hover:text-white",children:"Send Addr 2"})]})]})}),c.open&&e.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center print:hidden",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-sm p-5",children:[e.jsx("div",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Confirm Send"}),e.jsxs("div",{className:"text-gray-700 text-sm mb-4",children:["Send invoice to Billing Address ",c.choice,"?"]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("button",{type:"button",onClick:b,className:"px-3 py-1.5 text-sm rounded-md border border-gray-300 bg-gray-100 text-gray-900 hover:bg-gray-200",children:"Cancel"}),e.jsx("button",{type:"button",onClick:j,className:"px-3 py-1.5 text-sm rounded-md border border-gray-300 bg-gray-100 text-gray-900 hover:bg-[#2D4485] hover:text-white",children:"Confirm"})]})]})}),g.show&&e.jsx("div",{className:"fixed bottom-4 right-4 z-50 print:hidden",children:e.jsx("div",{className:"bg-[#2D4485] text-white rounded-md shadow-md px-4 py-2 text-sm",children:g.text})}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 print:hidden",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Customer"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("input",{value:t.customer.name,onChange:a=>t.setCustomer({...t.customer,name:a.target.value}),placeholder:"Customer name",className:"w-full rounded-md border border-gray-300 px-3 py-2"}),e.jsx("input",{value:t.customer.company,onChange:a=>t.setCustomer({...t.customer,company:a.target.value}),placeholder:"Company",className:"w-full rounded-md border border-gray-300 px-3 py-2"}),e.jsx("input",{value:t.customer.email,onChange:a=>t.setCustomer({...t.customer,email:a.target.value}),placeholder:"Email",className:"w-full rounded-md border border-gray-300 px-3 py-2"}),e.jsx("input",{value:t.customer.phone,onChange:a=>t.setCustomer({...t.customer,phone:a.target.value}),placeholder:"Phone",className:"w-full rounded-md border border-gray-300 px-3 py-2"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Items"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-left text-gray-600",children:[e.jsx("th",{className:"p-2",children:"Product"}),e.jsx("th",{className:"p-2",children:"Description"}),e.jsx("th",{className:"p-2",children:"Qty"}),e.jsx("th",{className:"p-2",children:"Unit Price"}),e.jsx("th",{className:"p-2",children:"Tax %"}),e.jsx("th",{className:"p-2",children:"Line Total"}),e.jsx("th",{className:"p-2"})]})}),e.jsx("tbody",{children:t.items.map((a,i)=>e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"p-2",children:e.jsx("input",{value:a.product,onChange:o=>t.updateItem(i,"product",o.target.value),className:"w-full rounded-md border border-gray-300 px-2 py-1"})}),e.jsx("td",{className:"p-2",children:e.jsx("input",{value:a.description,onChange:o=>t.updateItem(i,"description",o.target.value),className:"w-full rounded-md border border-gray-300 px-2 py-1"})}),e.jsx("td",{className:"p-2",children:e.jsx("input",{type:"number",min:"0",value:a.qty,onChange:o=>t.updateItem(i,"qty",o.target.value),className:"w-full rounded-md border border-gray-300 px-2 py-1"})}),e.jsx("td",{className:"p-2",children:e.jsx("input",{type:"number",min:"0",step:"0.01",value:a.price,onChange:o=>t.updateItem(i,"price",o.target.value),className:"w-full rounded-md border border-gray-300 px-2 py-1"})}),e.jsx("td",{className:"p-2",children:e.jsx("input",{type:"number",min:"0",step:"0.1",value:a.tax,onChange:o=>t.updateItem(i,"tax",o.target.value),className:"w-full rounded-md border border-gray-300 px-2 py-1"})}),e.jsx("td",{className:"p-2 text-right",children:((Number(a.qty)||0)*(Number(a.price)||0)*(1+(Number(a.tax)||0)/100)).toFixed(2)}),e.jsx("td",{className:"p-2 text-right",children:e.jsx("button",{onClick:()=>t.removeItem(i),className:"px-3 py-1 rounded-md bg-blue-50 text-[#2D4485] hover:bg-blue-100",children:"Remove"})})]},i))})]})}),e.jsxs("div",{className:"flex justify-between mt-4",children:[e.jsx("button",{onClick:t.addItem,className:"px-4 py-2 bg-gray-100 text-gray-900 rounded-md hover:bg-gray-200",children:"Add Item"}),e.jsxs("div",{className:"w-64",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Subtotal"}),e.jsxs("span",{className:"font-semibold",children:[t.subtotal.toFixed(2)," ",t.details.currency]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Tax"}),e.jsxs("span",{className:"font-semibold",children:[t.taxTotal.toFixed(2)," ",t.details.currency]})]}),e.jsxs("div",{className:"flex justify-between text-lg",children:[e.jsx("span",{className:"text-gray-900",children:"Total"}),e.jsxs("span",{className:"font-bold text-[#3D56A6]",children:[t.total.toFixed(2)," ",t.details.currency]})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Billing Addresses"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 border rounded-md p-4",children:[e.jsx("div",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Billing Address 1"}),e.jsx("textarea",{value:t.customer.billingAddress1,onChange:a=>t.setCustomer({...t.customer,billingAddress1:a.target.value}),onBlur:t.confirm,placeholder:"Street, City, Zip, Country",className:"w-full rounded-md border border-gray-300 px-3 py-2"}),e.jsx("div",{className:"flex justify-end mt-2",children:e.jsx("button",{type:"button",onClick:t.confirm,className:"px-3 py-1.5 text-sm rounded-md border border-gray-300 bg-gray-100 text-gray-900 hover:bg-[#2D4485] hover:text-white",children:"Confirm"})})]}),e.jsxs("div",{className:"bg-gray-50 border rounded-md p-4",children:[e.jsx("div",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Billing Address 2"}),e.jsx("textarea",{value:t.customer.billingAddress2,onChange:a=>t.setCustomer({...t.customer,billingAddress2:a.target.value}),onBlur:t.confirm,placeholder:"Street, City, Zip, Country",className:"w-full rounded-md border border-gray-300 px-3 py-2"}),e.jsx("div",{className:"flex justify-end mt-2",children:e.jsx("button",{type:"button",onClick:t.confirm,className:"px-3 py-1.5 text-sm rounded-md border border-gray-300 bg-gray-100 text-gray-900 hover:bg-[#2D4485] hover:text-white",children:"Confirm"})})]})]})]}),e.jsx("div",{className:"space-y-6"}),e.jsx("div",{className:"mt-2 print:hidden flex justify-end",children:e.jsx("button",{type:"button",onClick:t.confirm,className:"px-4 py-2 text-sm rounded-full border border-gray-300 bg-gray-100 text-gray-900 hover:bg-[#2D4485] hover:text-white",children:"Confirm"})})]}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Invoice Details"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsx("input",{value:t.details.number,onChange:a=>t.setDetails({...t.details,number:a.target.value}),placeholder:"Invoice number",className:"w-full rounded-md border border-gray-300 px-3 py-2"}),e.jsx("label",{className:"text-sm text-gray-700",children:"Invoice Date"}),e.jsx("input",{type:"date",value:t.details.date,onChange:a=>t.setDetails({...t.details,date:a.target.value}),className:"w-full rounded-md border border-gray-300 px-3 py-2"}),e.jsx("label",{className:"text-sm text-gray-700",children:"Due Date"}),e.jsx("input",{type:"date",value:t.details.dueDate,onChange:a=>t.setDetails({...t.details,dueDate:a.target.value}),className:"w-full rounded-md border border-gray-300 px-3 py-2"}),e.jsxs("select",{value:t.details.paymentTermsDays,onChange:a=>{const i=Number(a.target.value),o=new Date(t.details.date);o.setDate(o.getDate()+i),t.setDetails({...t.details,paymentTermsDays:i,dueDate:o.toISOString().slice(0,10)})},className:"w-full rounded-md border border-gray-300 px-3 py-2",children:[e.jsx("option",{value:7,children:"Payment Terms: 7 days"}),e.jsx("option",{value:14,children:"Payment Terms: 14 days"}),e.jsx("option",{value:30,children:"Payment Terms: 30 days"}),e.jsx("option",{value:45,children:"Payment Terms: 45 days"}),e.jsx("option",{value:60,children:"Payment Terms: 60 days"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 bg-gray-50 border rounded-md p-3",children:[e.jsxs("div",{className:"text-sm text-gray-700",children:["Today: ",e.jsx("span",{className:"font-semibold",children:D})]}),e.jsxs("div",{className:"text-sm text-gray-700",children:["Due Date: ",e.jsx("span",{className:"font-semibold",children:S}),w!==null&&e.jsxs("span",{className:"ml-2 text-gray-500",children:["(",w," days from invoice date)"]})]})]}),e.jsxs("select",{value:t.details.currency,onChange:a=>t.setDetails({...t.details,currency:a.target.value}),className:"w-full rounded-md border border-gray-300 px-3 py-2",children:[e.jsx("option",{value:"THB",children:"THB"}),e.jsx("option",{value:"USD",children:"USD"}),e.jsx("option",{value:"EUR",children:"EUR"}),e.jsx("option",{value:"GBP",children:"GBP"})]}),e.jsxs("select",{value:t.details.addressChoice,onChange:a=>t.setDetails({...t.details,addressChoice:a.target.value}),className:"w-full rounded-md border border-gray-300 px-3 py-2",children:[e.jsx("option",{value:"1",children:"Use Billing Address 1"}),e.jsx("option",{value:"2",children:"Use Billing Address 2"})]}),e.jsx("textarea",{value:t.details.notes,onChange:a=>t.setDetails({...t.details,notes:a.target.value}),placeholder:"Billing notes",className:"w-full rounded-md border border-gray-300 px-3 py-2"})]})]})}),e.jsx("div",{className:"mt-8 print:mt-0 hidden print:block",id:"invoice-document","aria-hidden":"true",children:e.jsx(B,{inv:t})})]})]})})})}$.createRoot(document.getElementById("root")).render(e.jsx(p.StrictMode,{children:e.jsx(O,{children:e.jsx(L,{})})}));
