import{R as Se,j as s,a as p,A as $}from"./index-BY_FY2h5.js";import{N as Pe}from"./navigation-BPz6xB7x.js";import{L as Oe}from"./language-context-CIojU0iR.js";const he=6048e5,De=864e5,ae=Symbol.for("constructDateFrom");function S(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&ae in t?t[ae](e):t instanceof Date?new t.constructor(e):new Date(e)}function k(t,e){return S(e||t,t)}function U(t,e,n){const a=k(t,n==null?void 0:n.in);return isNaN(e)?S(t,NaN):(e&&a.setDate(a.getDate()+e),a)}function re(t,e,n){const a=k(t,n==null?void 0:n.in);if(isNaN(e))return S(t,NaN);const r=a.getDate(),i=S(t,a.getTime());i.setMonth(a.getMonth()+e+1,0);const d=i.getDate();return r>=d?i:(a.setFullYear(i.getFullYear(),i.getMonth(),r),a)}let Te={};function J(){return Te}function _(t,e){var h,m,y,l;const n=J(),a=(e==null?void 0:e.weekStartsOn)??((m=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:m.weekStartsOn)??n.weekStartsOn??((l=(y=n.locale)==null?void 0:y.options)==null?void 0:l.weekStartsOn)??0,r=k(t,e==null?void 0:e.in),i=r.getDay(),d=(i<a?7:0)+i-a;return r.setDate(r.getDate()-d),r.setHours(0,0,0,0),r}function V(t,e){return _(t,{...e,weekStartsOn:1})}function me(t,e){const n=k(t,e==null?void 0:e.in),a=n.getFullYear(),r=S(n,0);r.setFullYear(a+1,0,4),r.setHours(0,0,0,0);const i=V(r),d=S(n,0);d.setFullYear(a,0,4),d.setHours(0,0,0,0);const h=V(d);return n.getTime()>=i.getTime()?a+1:n.getTime()>=h.getTime()?a:a-1}function se(t){const e=k(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Z(t,...e){const n=S.bind(null,e.find(a=>typeof a=="object"));return e.map(n)}function oe(t,e){const n=k(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function fe(t,e,n){const[a,r]=Z(n==null?void 0:n.in,t,e),i=oe(a),d=oe(r),h=+i-se(i),m=+d-se(d);return Math.round((h-m)/De)}function We(t,e){const n=me(t,e),a=S(t,0);return a.setFullYear(n,0,4),a.setHours(0,0,0,0),V(a)}function Ce(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function R(t){return!(!Ce(t)&&typeof t!="number"||isNaN(+k(t)))}function H(t,e,n){const[a,r]=Z(n==null?void 0:n.in,t,e),i=ie(a,r),d=Math.abs(fe(a,r));a.setDate(a.getDate()-i*d);const h=+(ie(a,r)===-i),m=i*(d-h);return m===0?0:m}function ie(t,e){const n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function X(t,e){const n=k(t,e==null?void 0:e.in),a=n.getMonth();return n.setFullYear(n.getFullYear(),a+1,0),n.setHours(23,59,59,999),n}function Ee(t,e){const[n,a]=Z(t,e.start,e.end);return{start:n,end:a}}function Ye(t,e){const{start:n,end:a}=Ee(e==null?void 0:e.in,t);let r=+n>+a;const i=r?+n:+a,d=r?a:n;d.setHours(0,0,0,0),d.setDate(1);let h=1;const m=[];for(;+d<=i;)m.push(S(n,d)),d.setMonth(d.getMonth()+h);return r?m.reverse():m}function G(t,e){const n=k(t,e==null?void 0:e.in);return n.setDate(1),n.setHours(0,0,0,0),n}function Fe(t,e){const n=k(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function _e(t,e){const n=e==null?void 0:e.weekStartsOn,a=k(t,e==null?void 0:e.in),r=a.getDay(),i=(r<n?-7:0)+6-(r-n);return a.setDate(a.getDate()+i),a.setHours(23,59,59,999),a}const Ae={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},qe=(t,e,n)=>{let a;const r=Ae[t];return typeof r=="string"?a=r:e===1?a=r.one:a=r.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};function K(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Ie={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},$e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},He={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Le={date:K({formats:Ie,defaultWidth:"full"}),time:K({formats:$e,defaultWidth:"full"}),dateTime:K({formats:He,defaultWidth:"full"})},Qe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Re=(t,e,n,a)=>Qe[t];function L(t){return(e,n)=>{const a=n!=null&&n.context?String(n.context):"standalone";let r;if(a==="formatting"&&t.formattingValues){const d=t.defaultFormattingWidth||t.defaultWidth,h=n!=null&&n.width?String(n.width):d;r=t.formattingValues[h]||t.formattingValues[d]}else{const d=t.defaultWidth,h=n!=null&&n.width?String(n.width):t.defaultWidth;r=t.values[h]||t.values[d]}const i=t.argumentCallback?t.argumentCallback(e):e;return r[i]}}const Be={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Xe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Ge={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Ve={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Je={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ze={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Ue=(t,e)=>{const n=Number(t),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Ke={ordinalNumber:Ue,era:L({values:Be,defaultWidth:"wide"}),quarter:L({values:Xe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:L({values:Ge,defaultWidth:"wide"}),day:L({values:Ve,defaultWidth:"wide"}),dayPeriod:L({values:Je,defaultWidth:"wide",formattingValues:ze,defaultFormattingWidth:"wide"})};function Q(t){return(e,n={})=>{const a=n.width,r=a&&t.matchPatterns[a]||t.matchPatterns[t.defaultMatchWidth],i=e.match(r);if(!i)return null;const d=i[0],h=a&&t.parsePatterns[a]||t.parsePatterns[t.defaultParseWidth],m=Array.isArray(h)?et(h,P=>P.test(d)):Ze(h,P=>P.test(d));let y;y=t.valueCallback?t.valueCallback(m):m,y=n.valueCallback?n.valueCallback(y):y;const l=e.slice(d.length);return{value:y,rest:l}}}function Ze(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function et(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function tt(t){return(e,n={})=>{const a=e.match(t.matchPattern);if(!a)return null;const r=a[0],i=e.match(t.parsePattern);if(!i)return null;let d=t.valueCallback?t.valueCallback(i[0]):i[0];d=n.valueCallback?n.valueCallback(d):d;const h=e.slice(r.length);return{value:d,rest:h}}}const nt=/^(\d+)(th|st|nd|rd)?/i,at=/\d+/i,rt={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},st={any:[/^b/i,/^(a|c)/i]},ot={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},it={any:[/1/i,/2/i,/3/i,/4/i]},ct={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},dt={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ut={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},lt={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},ht={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},mt={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ft={ordinalNumber:tt({matchPattern:nt,parsePattern:at,valueCallback:t=>parseInt(t,10)}),era:Q({matchPatterns:rt,defaultMatchWidth:"wide",parsePatterns:st,defaultParseWidth:"any"}),quarter:Q({matchPatterns:ot,defaultMatchWidth:"wide",parsePatterns:it,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Q({matchPatterns:ct,defaultMatchWidth:"wide",parsePatterns:dt,defaultParseWidth:"any"}),day:Q({matchPatterns:ut,defaultMatchWidth:"wide",parsePatterns:lt,defaultParseWidth:"any"}),dayPeriod:Q({matchPatterns:ht,defaultMatchWidth:"any",parsePatterns:mt,defaultParseWidth:"any"})},gt={code:"en-US",formatDistance:qe,formatLong:Le,formatRelative:Re,localize:Ke,match:ft,options:{weekStartsOn:0,firstWeekContainsDate:1}};function bt(t,e){const n=k(t,e==null?void 0:e.in);return fe(n,Fe(n))+1}function xt(t,e){const n=k(t,e==null?void 0:e.in),a=+V(n)-+We(n);return Math.round(a/he)+1}function ge(t,e){var l,P,u,N;const n=k(t,e==null?void 0:e.in),a=n.getFullYear(),r=J(),i=(e==null?void 0:e.firstWeekContainsDate)??((P=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:P.firstWeekContainsDate)??r.firstWeekContainsDate??((N=(u=r.locale)==null?void 0:u.options)==null?void 0:N.firstWeekContainsDate)??1,d=S((e==null?void 0:e.in)||t,0);d.setFullYear(a+1,0,i),d.setHours(0,0,0,0);const h=_(d,e),m=S((e==null?void 0:e.in)||t,0);m.setFullYear(a,0,i),m.setHours(0,0,0,0);const y=_(m,e);return+n>=+h?a+1:+n>=+y?a:a-1}function wt(t,e){var h,m,y,l;const n=J(),a=(e==null?void 0:e.firstWeekContainsDate)??((m=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??n.firstWeekContainsDate??((l=(y=n.locale)==null?void 0:y.options)==null?void 0:l.firstWeekContainsDate)??1,r=ge(t,e),i=S((e==null?void 0:e.in)||t,0);return i.setFullYear(r,0,a),i.setHours(0,0,0,0),_(i,e)}function yt(t,e){const n=k(t,e==null?void 0:e.in),a=+_(n,e)-+wt(n,e);return Math.round(a/he)+1}function f(t,e){const n=t<0?"-":"",a=Math.abs(t).toString().padStart(e,"0");return n+a}const T={y(t,e){const n=t.getFullYear(),a=n>0?n:1-n;return f(e==="yy"?a%100:a,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):f(n+1,2)},d(t,e){return f(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return f(t.getHours()%12||12,e.length)},H(t,e){return f(t.getHours(),e.length)},m(t,e){return f(t.getMinutes(),e.length)},s(t,e){return f(t.getSeconds(),e.length)},S(t,e){const n=e.length,a=t.getMilliseconds(),r=Math.trunc(a*Math.pow(10,n-3));return f(r,e.length)}},Y={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ce={G:function(t,e,n){const a=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const a=t.getFullYear(),r=a>0?a:1-a;return n.ordinalNumber(r,{unit:"year"})}return T.y(t,e)},Y:function(t,e,n,a){const r=ge(t,a),i=r>0?r:1-r;if(e==="YY"){const d=i%100;return f(d,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):f(i,e.length)},R:function(t,e){const n=me(t);return f(n,e.length)},u:function(t,e){const n=t.getFullYear();return f(n,e.length)},Q:function(t,e,n){const a=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(a);case"QQ":return f(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,e,n){const a=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(a);case"qq":return f(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,e,n){const a=t.getMonth();switch(e){case"M":case"MM":return T.M(t,e);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(t,e,n){const a=t.getMonth();switch(e){case"L":return String(a+1);case"LL":return f(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(t,e,n,a){const r=yt(t,a);return e==="wo"?n.ordinalNumber(r,{unit:"week"}):f(r,e.length)},I:function(t,e,n){const a=xt(t);return e==="Io"?n.ordinalNumber(a,{unit:"week"}):f(a,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):T.d(t,e)},D:function(t,e,n){const a=bt(t);return e==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):f(a,e.length)},E:function(t,e,n){const a=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(t,e,n,a){const r=t.getDay(),i=(r-a.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return f(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(r,{width:"short",context:"formatting"});case"eeee":default:return n.day(r,{width:"wide",context:"formatting"})}},c:function(t,e,n,a){const r=t.getDay(),i=(r-a.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return f(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(r,{width:"narrow",context:"standalone"});case"cccccc":return n.day(r,{width:"short",context:"standalone"});case"cccc":default:return n.day(r,{width:"wide",context:"standalone"})}},i:function(t,e,n){const a=t.getDay(),r=a===0?7:a;switch(e){case"i":return String(r);case"ii":return f(r,e.length);case"io":return n.ordinalNumber(r,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(t,e,n){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(t,e,n){const a=t.getHours();let r;switch(a===12?r=Y.noon:a===0?r=Y.midnight:r=a/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(t,e,n){const a=t.getHours();let r;switch(a>=17?r=Y.evening:a>=12?r=Y.afternoon:a>=4?r=Y.morning:r=Y.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let a=t.getHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return T.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):T.H(t,e)},K:function(t,e,n){const a=t.getHours()%12;return e==="Ko"?n.ordinalNumber(a,{unit:"hour"}):f(a,e.length)},k:function(t,e,n){let a=t.getHours();return a===0&&(a=24),e==="ko"?n.ordinalNumber(a,{unit:"hour"}):f(a,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):T.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):T.s(t,e)},S:function(t,e){return T.S(t,e)},X:function(t,e,n){const a=t.getTimezoneOffset();if(a===0)return"Z";switch(e){case"X":return ue(a);case"XXXX":case"XX":return E(a);case"XXXXX":case"XXX":default:return E(a,":")}},x:function(t,e,n){const a=t.getTimezoneOffset();switch(e){case"x":return ue(a);case"xxxx":case"xx":return E(a);case"xxxxx":case"xxx":default:return E(a,":")}},O:function(t,e,n){const a=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+de(a,":");case"OOOO":default:return"GMT"+E(a,":")}},z:function(t,e,n){const a=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+de(a,":");case"zzzz":default:return"GMT"+E(a,":")}},t:function(t,e,n){const a=Math.trunc(+t/1e3);return f(a,e.length)},T:function(t,e,n){return f(+t,e.length)}};function de(t,e=""){const n=t>0?"-":"+",a=Math.abs(t),r=Math.trunc(a/60),i=a%60;return i===0?n+String(r):n+String(r)+e+f(i,2)}function ue(t,e){return t%60===0?(t>0?"-":"+")+f(Math.abs(t)/60,2):E(t,e)}function E(t,e=""){const n=t>0?"-":"+",a=Math.abs(t),r=f(Math.trunc(a/60),2),i=f(a%60,2);return n+r+e+i}const le=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},be=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},vt=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],a=n[1],r=n[2];if(!r)return le(t,e);let i;switch(a){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",le(a,e)).replace("{{time}}",be(r,e))},kt={p:be,P:vt},jt=/^D+$/,pt=/^Y+$/,Mt=["D","DD","YY","YYYY"];function Nt(t){return jt.test(t)}function St(t){return pt.test(t)}function Pt(t,e,n){const a=Ot(t,e,n);if(console.warn(a),Mt.includes(t))throw new RangeError(a)}function Ot(t,e,n){const a=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${a} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Dt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Tt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Wt=/^'([^]*?)'?$/,Ct=/''/g,Et=/[a-zA-Z]/;function F(t,e,n){var l,P,u,N;const a=J(),r=a.locale??gt,i=a.firstWeekContainsDate??((P=(l=a.locale)==null?void 0:l.options)==null?void 0:P.firstWeekContainsDate)??1,d=a.weekStartsOn??((N=(u=a.locale)==null?void 0:u.options)==null?void 0:N.weekStartsOn)??0,h=k(t,n==null?void 0:n.in);if(!R(h))throw new RangeError("Invalid time value");let m=e.match(Tt).map(j=>{const w=j[0];if(w==="p"||w==="P"){const A=kt[w];return A(j,r.formatLong)}return j}).join("").match(Dt).map(j=>{if(j==="''")return{isToken:!1,value:"'"};const w=j[0];if(w==="'")return{isToken:!1,value:Yt(j)};if(ce[w])return{isToken:!0,value:j};if(w.match(Et))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:j}});r.localize.preprocessor&&(m=r.localize.preprocessor(h,m));const y={firstWeekContainsDate:i,weekStartsOn:d,locale:r};return m.map(j=>{if(!j.isToken)return j.value;const w=j.value;(St(w)||Nt(w))&&Pt(w,e,String(t));const A=ce[w[0]];return A(h,w,r.localize,y)}).join("")}function Yt(t){const e=t.match(Wt);return e?e[1].replace(Ct,"'"):t}function Ft(){const[t,e]=p.useState([]),[n,a]=p.useState(!0),[r,i]=p.useState(""),[d,h]=p.useState("month"),[m,y]=p.useState(new Set),[l,P]=p.useState(()=>{const o=new Date,c=G(o),g=X(re(o,3));return{start:c,end:g}}),[u,N]=p.useState(null),[j,w]=p.useState(!1),[A,B]=p.useState(!1),[O,q]=p.useState({title:"",customer:"",amount:0,stage:"Appointment Schedule"}),[W,ee]=p.useState(()=>{try{const o=JSON.parse(localStorage.getItem("currentUser")||"null");return o&&o.role!=="Admin"}catch{return!1}}),xe=p.useMemo(()=>{try{const o=JSON.parse(localStorage.getItem("currentUser")||"null");return o&&o.role==="Admin"}catch{return!1}},[]),C=d==="month"?24:40;p.useEffect(()=>{I()},[]);const I=async()=>{a(!0);try{const o=localStorage.getItem("authToken"),c=await fetch(`${$}/api/projects/`,{headers:o?{Authorization:`Token ${o}`}:{}});if(!c.ok)throw new Error("Failed to fetch projects");const g=await c.json();if(Array.isArray(g)&&g.length)e(g);else if(W)try{const b=await fetch("/test_project.json");if(b.ok){const x=await b.json(),M={id:-1,name:x.name||"Demo Project",tasks:[],customer:null,status:x.status||"planned"};e([M])}else e([])}catch{e([])}else e([])}catch(o){if(i(o.message),W)try{const c=await fetch("/test_project.json");if(c.ok){const g=await c.json(),b={id:-1,name:g.name||"Demo Project",tasks:[],customer:null,status:g.status||"planned"};e([b]),i("")}}catch{}}finally{a(!1)}},we=o=>{N({project:o,title:"New Task",start:new Date,end:U(new Date,5),assignee:""}),w(!0)},te=o=>{N({...o}),w(!0)},ye=async o=>{if(o.preventDefault(),!!u){if(!R(u.start)||!R(u.end)){alert("Please select valid start and end dates");return}if(u.end<u.start){alert("End date cannot be before start date");return}try{const c=localStorage.getItem("authToken"),g={title:u.title,start_date:u.start.toISOString().slice(0,10),due_date:u.end.toISOString().slice(0,10),assignee:u.assignee},b=!u.id;b&&(g.project=u.project);const x=b?`${$}/api/tasks/`:`${$}/api/tasks/${u.id}/`;if(!(await fetch(x,{method:b?"POST":"PATCH",headers:{"Content-Type":"application/json",...c?{Authorization:`Token ${c}`}:{}},body:JSON.stringify(g)})).ok)throw new Error("Failed to save task");w(!1),I()}catch(c){alert("Error saving task: "+c.message)}}},ve=async()=>{if(!(!u||!window.confirm("Delete this task?")))try{const o=localStorage.getItem("authToken");if(!(await fetch(`${$}/api/tasks/${u.id}/`,{method:"DELETE",headers:o?{Authorization:`Token ${o}`}:{}})).ok)throw new Error("Failed to delete task");w(!1),I()}catch(o){alert("Error deleting task: "+o.message)}},ke=async o=>{o.preventDefault();try{const c=localStorage.getItem("authToken");if(!c){alert("You must be logged in to create a project");return}const g=(O.title||"").trim(),b=(O.customer||"").trim();if(!g||!b){alert("Please provide both title and customer");return}const x=O.stage;let M="planned";x==="Closed Won"?M="completed":(x==="Contract Sent"||x==="Presentation Scheduled"||x==="Decision Maker Bought-In"||x==="Qualified to Buy")&&(M="in_progress");const v={name:g,write_customer_name:b,status:M},D=await fetch(`${$}/api/projects/`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Token ${c}`},body:JSON.stringify(v)});if(!D.ok){const z=await D.text();throw new Error(`Failed to create project: ${D.status} ${D.statusText} - ${z}`)}B(!1),q({title:"",customer:"",stage:"Appointment Schedule"}),I()}catch(c){alert("Error creating project: "+c.message)}},ne=p.useMemo(()=>{const o=[{bar:"bg-sky-500",border:"border-sky-600",text:"text-sky-900"},{bar:"bg-sky-500",border:"border-sky-600",text:"text-sky-900"},{bar:"bg-sky-500",border:"border-sky-600",text:"text-sky-900"},{bar:"bg-sky-500",border:"border-sky-600",text:"text-sky-900"},{bar:"bg-sky-500",border:"border-sky-600",text:"text-sky-900"}];return t.map((c,g)=>{const b=o[g%o.length],M=(c.tasks||[]).map(v=>{const D=v.start_date?new Date(v.start_date):new Date,z=v.due_date?new Date(v.due_date):U(D,5);return{id:v.id,text:v.title||"Untitled Task",start:D,end:z,assignee:v.assignee||"Unassigned"}});return{id:c.id,title:c.name,tasks:M,color:b}})},[t]),je=p.useMemo(()=>{const c=Ye({start:l.start,end:l.end}).map(x=>{const M=G(x)<l.start?l.start:G(x),v=X(x)>l.end?l.end:X(x),D=H(v,M)+1;return{date:x,label:F(x,"MMMM"),width:D*C}}),g=[];let b=_(l.start,{weekStartsOn:1});for(;b<=l.end;){const x=_e(b,{weekStartsOn:1}),M=b<l.start?l.start:b,v=x>l.end?l.end:x;if(M<=v){const D=H(v,M)+1;g.push({start:M,end:v,label:`W${F(b,"w")}`,width:D*C})}b=U(b,7)}return{months:c,weeks:g}},[l,C]),pe=H(l.end,l.start)*C,Me=o=>{const c=new Date(o);return c<l.start?0:H(c,l.start)*C},Ne=(o,c)=>{const g=new Date(o)<l.start?l.start:new Date(o),b=new Date(c),x=H(b,g);return Math.max(C,x*C)};return s.jsx(Oe,{children:s.jsxs("div",{className:"min-h-screen bg-white text-slate-900 flex flex-col font-sans",children:[s.jsx(Pe,{className:"bg-white border-b border-slate-200"}),s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 bg-slate-50 border-b border-slate-200",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"PROJECT MANAGEMENT"}),s.jsx("p",{className:"text-slate-500 text-sm",children:"Gantt Chart View"})]}),s.jsxs("div",{className:"flex gap-2",children:[!W&&s.jsx("button",{onClick:()=>B(!0),className:"px-3 py-1.5 text-sm bg-slate-900 text-white hover:bg-slate-800 rounded font-medium shadow-sm",children:"+ New Project"}),s.jsx("button",{onClick:()=>ee(!W),className:`px-3 py-1.5 text-sm border rounded ${W?"bg-slate-900 text-white":"bg-white text-slate-700 border-slate-300"}`,title:"Toggle simple/normal view",children:W?"Simple View":"Normal View"}),s.jsx("button",{onClick:()=>{const o={id:999,email:"kanna@example.com",name:"Kanna",role:"User",allowed_apps:"Project Management"};try{localStorage.setItem("isAuthenticated","true"),localStorage.setItem("authToken","kanna-dummy-token"),localStorage.setItem("currentUser",JSON.stringify(o)),localStorage.setItem("allowedApps",o.allowed_apps)}catch{}ee(!0),I()},className:"px-3 py-1.5 text-sm bg-emerald-600 text-white rounded font-medium shadow-sm",title:"Quick login as Kanna (frontend-only)",children:"Login as Kanna"}),s.jsxs("select",{value:d,onChange:o=>h(o.target.value),className:"px-2 py-1 text-sm bg-white border border-slate-300 rounded text-slate-700",children:[s.jsx("option",{value:"month",children:"Month"}),s.jsx("option",{value:"week",children:"Week"})]}),s.jsx("button",{onClick:()=>{const o=new Date,c=G(o),g=X(re(o,3));P({start:c,end:g})},className:"px-3 py-1.5 text-sm bg-white border border-slate-300 hover:bg-slate-50 rounded text-slate-700",children:"Today"})]})]}),s.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col relative",children:[n&&s.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-white/80",children:"Loading..."}),s.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[s.jsxs("div",{className:"w-64 flex-shrink-0 bg-white border-r border-slate-200 z-10 flex flex-col",children:[s.jsx("div",{className:"h-[60px] border-b border-slate-200 bg-white box-border"}),s.jsx("div",{className:"overflow-hidden",children:ne.map(o=>s.jsxs("div",{children:[s.jsxs("div",{className:"h-10 flex items-center justify-between px-4 font-semibold text-slate-700 bg-slate-50 border-b border-slate-200",children:[s.jsxs("button",{onClick:()=>{const c=new Set(m);c.has(o.id)?c.delete(o.id):c.add(o.id),y(c)},className:"text-left flex-1 truncate mr-2",children:[m.has(o.id)?"▶ ":"▼ ",o.title]}),s.jsx("button",{onClick:()=>we(o.id),className:"flex-shrink-0 px-2 py-1 text-xs font-medium text-slate-600 bg-white border border-slate-300 rounded hover:bg-slate-100 hover:text-slate-900 transition-colors shadow-sm",title:"Add Task to this Project",children:"+ Add Task"})]}),!m.has(o.id)&&o.tasks.map(c=>s.jsx("div",{onClick:()=>te(c),className:"h-14 flex flex-col justify-center px-8 border-b border-slate-100 text-sm text-slate-600 hover:bg-slate-50 transition-colors cursor-pointer group",children:s.jsx("span",{className:"truncate group-hover:text-slate-900",children:c.text})},c.id))]},o.id))})]}),s.jsx("div",{className:"flex-1 overflow-auto bg-white relative",children:s.jsxs("div",{style:{width:`${pe}px`,minWidth:"100%"},children:[s.jsx("div",{className:"sticky top-0 z-20 bg-white",children:s.jsx("div",{className:"flex h-8 border-b border-slate-200",children:je.months.map((o,c)=>s.jsx("div",{className:"flex items-center justify-center text-sm font-medium text-slate-600 border-r border-slate-200 bg-slate-50",style:{width:`${o.width}px`},children:o.label},c))})}),s.jsx("div",{className:"relative pt-0",children:ne.map(o=>s.jsxs("div",{children:[s.jsx("div",{className:"h-10 border-b border-slate-100 bg-slate-50"}),!m.has(o.id)&&o.tasks.map(c=>{const g=Me(c.start),b=Ne(c.start,c.end);return s.jsx("div",{className:"h-14 relative border-b border-slate-100 group",children:s.jsx("div",{onClick:()=>te(c),className:`absolute h-7 rounded-md shadow-sm ${o.color.bar} top-3 cursor-pointer hover:opacity-90 transition-opacity flex items-center px-2 text-xs text-white`,style:{left:`${g}px`,width:`${b}px`},title:`${c.text} • ${F(c.start,"MMM d")} → ${F(c.end,"MMM d")} • ${c.assignee}`,children:s.jsx("span",{className:"truncate",children:c.text})})},c.id)})]},o.id))})]})})]})]}),A&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md p-6 border border-slate-200",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"New Project"}),s.jsx("button",{onClick:()=>B(!1),className:"text-slate-400 hover:text-slate-600",children:"✕"})]}),s.jsxs("form",{onSubmit:ke,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Project Title"}),s.jsx("input",{type:"text",required:!0,value:O.title,onChange:o=>q({...O,title:o.target.value}),placeholder:"e.g. Website Redesign",className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-slate-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Customer / Client"}),s.jsx("input",{type:"text",required:!0,value:O.customer,onChange:o=>q({...O,customer:o.target.value}),placeholder:"e.g. Acme Corp",className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-slate-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Estimated Amount"}),s.jsx("input",{type:"number",value:O.amount,onChange:o=>q({...O,amount:parseFloat(o.target.value)||0}),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-slate-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Stage"}),s.jsxs("select",{value:O.stage,onChange:o=>q({...O,stage:o.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-slate-500",children:[s.jsx("option",{value:"Appointment Schedule",children:"Appointment Schedule"}),s.jsx("option",{value:"Qualified to Buy",children:"Qualified to Buy"}),s.jsx("option",{value:"Presentation Scheduled",children:"Presentation Scheduled"}),s.jsx("option",{value:"Decision Maker Bought-In",children:"Decision Maker Bought-In"}),s.jsx("option",{value:"Contract Sent",children:"Contract Sent"}),s.jsx("option",{value:"Closed Won",children:"Closed Won"}),s.jsx("option",{value:"Closed Lost",children:"Closed Lost"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>B(!1),className:"px-4 py-2 text-sm text-slate-700 hover:bg-slate-100 rounded-md",children:"Cancel"}),s.jsx("button",{type:"submit",className:"px-4 py-2 text-sm text-white bg-slate-900 hover:bg-slate-800 rounded-md",children:"Create Project"})]})]})]})}),j&&u&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md p-6 border border-slate-200",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:u.id?"Edit Task":"Add New Task"}),s.jsx("button",{onClick:()=>w(!1),className:"text-slate-400 hover:text-slate-600",children:"✕"})]}),s.jsxs("form",{onSubmit:ye,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Task Name"}),s.jsx("input",{type:"text",value:u.text,onChange:o=>N({...u,text:o.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-slate-500"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Start Date"}),s.jsx("input",{type:"date",value:R(u.start)?F(u.start,"yyyy-MM-dd"):"",onChange:o=>{const c=o.target.value?new Date(o.target.value):new Date;N({...u,start:c})},className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-slate-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"End Date"}),s.jsx("input",{type:"date",value:R(u.end)?F(u.end,"yyyy-MM-dd"):"",onChange:o=>{const c=o.target.value?new Date(o.target.value):new Date;N({...u,end:c})},className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-slate-500"})]})]}),!W&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Assignee"}),s.jsx("input",{type:"text",value:u.assignee,onChange:o=>N({...u,assignee:o.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-slate-500"})]}),s.jsxs("div",{className:"flex justify-between pt-4",children:[u.id&&xe&&s.jsx("button",{type:"button",onClick:ve,className:"px-4 py-2 text-sm text-red-600 hover:bg-red-50 rounded-md",children:"Delete"}),s.jsxs("div",{className:`flex gap-2 ${u.id?"":"w-full justify-end"}`,children:[s.jsx("button",{type:"button",onClick:()=>w(!1),className:"px-4 py-2 text-sm text-slate-700 hover:bg-slate-100 rounded-md",children:"Cancel"}),s.jsx("button",{type:"submit",className:"px-4 py-2 text-sm text-white bg-slate-900 hover:bg-slate-800 rounded-md",children:u.id?"Save Changes":"Create Task"})]})]})]})]})})]})})}const _t=Se.createRoot(document.getElementById("root"));_t.render(s.jsx(Ft,{}));
